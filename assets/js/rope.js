var _0x5d52d8=_0x4ff0;(function(_0xed8957,_0x6972d3){var _0x55264f=_0x4ff0,_0x1807da=_0xed8957();while(!![]){try{var _0x16dfe6=parseInt(_0x55264f(0xff))/0x1*(parseInt(_0x55264f(0xcc))/0x2)+-parseInt(_0x55264f(0xc9))/0x3+parseInt(_0x55264f(0xd4))/0x4+-parseInt(_0x55264f(0xec))/0x5+-parseInt(_0x55264f(0xf2))/0x6*(-parseInt(_0x55264f(0x102))/0x7)+-parseInt(_0x55264f(0xf5))/0x8+parseInt(_0x55264f(0xd1))/0x9;if(_0x16dfe6===_0x6972d3)break;else _0x1807da['push'](_0x1807da['shift']());}catch(_0x49c7a9){_0x1807da['push'](_0x1807da['shift']());}}}(_0x2c25,0x74dff));function _0x4ff0(_0xcd088e,_0x224e0b){var _0x2c25a9=_0x2c25();return _0x4ff0=function(_0x4ff096,_0x56988c){_0x4ff096=_0x4ff096-0xc6;var _0x4796c9=_0x2c25a9[_0x4ff096];return _0x4796c9;},_0x4ff0(_0xcd088e,_0x224e0b);}var REAL_TIME,TIME_ACCEL,SIM_STEP,move,FULL_SCREEN,DRAW_FREQ,DISPLAY_SIZE_X=0x320,DISPLAY_SIZE_Y=0x320,BACKGROUND_COLOR,ROPE_COLOR,BALL_COLOR,G,N_ROPES,HAIR_POS,HAIR_RADIUS,ROPE_RANDOM,FRICTION_CONSTANT,ROPE_LENGTH,ROPE_NUMBER_OF_NODES,ROPE_NODE_MASS,ROPE_KE,ROPE_KD,PARTICLE_RADIUS,_lastTimeDraw,_deltaTimeDraw,_simTime,_elapsedTime,_hair,_lastParticleId;function initSimulation(){_simTime=0x0,_elapsedTime=0x0,_hair=new Hair(N_ROPES,HAIR_POS,HAIR_RADIUS);}function updateSimulation(){var _0xf17a35=_0x4ff0;_hair[_0xf17a35(0xf3)](SIM_STEP),mouseListener(),_simTime+=SIM_STEP;}function setup(){var _0x3080d1=_0x4ff0;windowResized(),initializeFields();var _0x2e5910=createCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y);_0x2e5910[_0x3080d1(0xee)]('p5-canvas'),frameRate(DRAW_FREQ),_lastTimeDraw=millis(),SIM_STEP*=TIME_ACCEL,initSimulation();}function printInfo(){var _0x286219=_0x4ff0;fill(0x0),textSize(0x14),text(_0x286219(0x101)+0x1/_deltaTimeDraw+_0x286219(0xe1),width*0.025,height*0.05),text(_0x286219(0xd0)+_elapsedTime+'\x20s',width*0.025,height*0.075),text('Simulated\x20time\x20=\x20'+_simTime+_0x286219(0xde),width*0.025,height*0.1);}function drawStaticEnvironment(){}function drawDynamicEnvironment(){var _0x3660d1=_0x4ff0;_hair[_0x3660d1(0xe8)]();}function draw(){var _0x20290b=millis();_deltaTimeDraw=(_0x20290b-_lastTimeDraw)/0x3e8,_elapsedTime+=_deltaTimeDraw,_lastTimeDraw=_0x20290b,background(BACKGROUND_COLOR),drawDynamicEnvironment();if(REAL_TIME){var _0x1f9162=TIME_ACCEL*_deltaTimeDraw,_0x33b33d=_0x1f9162/SIM_STEP,_0x2e3cd0=0x0;for(;_0x2e3cd0<floor(_0x33b33d);_0x2e3cd0++)updateSimulation();_0x33b33d-_0x2e3cd0>random(0x0,0x1)&&(updateSimulation(),_0x2e3cd0++);}else updateSimulation();printInfo();}function keyPressed(){key=='r'&&initSimulation();}function mouseListener(){var _0x29767e=_0x4ff0,_0x51efab=![];if(mouseIsPressed){var _0x5e2b35=createVector(mouseX,mouseY);for(var _0x37eac2=0x0;_0x37eac2<_hair['_hair'][_0x29767e(0xdc)];_0x37eac2++){var _0x48737b=_hair['_hair'][_0x37eac2];for(var _0x2d5e57=0x0;_0x2d5e57<_0x48737b[_0x29767e(0xdf)]['length'];_0x2d5e57++){p5[_0x29767e(0xe0)][_0x29767e(0xcd)](_0x5e2b35,_0x48737b[_0x29767e(0xdf)][_0x2d5e57]['_s'])<=PARTICLE_RADIUS*0xa&&!_0x51efab&&(_0x48737b[_0x29767e(0xdf)][_0x2d5e57]['_s']=_0x5e2b35,_0x51efab=!![]);}}}}function _0x2c25(){var _0x3b86cd=['Frame\x20rate\x20=\x20','1813448AHsdRu','mag','sub','getPosition','2050755COKrNa','_Kd','mult','253516UBgDhY','dist','addExternalForce','_p2','Elapsed\x20time\x20=\x20','10756683LJRijK','div-canvas','_springsSurface','840732KsoBbp','copy','_numNodes','set','createHair','updateForce','_p1','setPosition','length','_length','\x20s\x20','_nodes','Vector','\x20fps','_color','drawWithSegments','_hair','add','setVelocity','applyForces','draw','radius','getElementById','_id','2577375xxHTtE','createNodes','parent','_clamped','push','getId','6eGvScb','update','n_ropes','6991688fujSPq','getParticle2','getParticle1','normalize','_Ke','createSurfaceSprings','_lr','_eN','resize','addEventListener','7yZxssf','setRestLength'];_0x2c25=function(){return _0x3b86cd;};return _0x2c25();}class DampedSpring{constructor(_0x13032d,_0x21c662,_0x556d27,_0x36d6d3){var _0x5b8eb3=_0x4ff0;this['_p1']=_0x13032d,this[_0x5b8eb3(0xcf)]=_0x21c662,this[_0x5b8eb3(0xf9)]=_0x556d27,this[_0x5b8eb3(0xca)]=_0x36d6d3,this['_e']=p5[_0x5b8eb3(0xe0)]['sub'](this[_0x5b8eb3(0xcf)][_0x5b8eb3(0xc8)](),this[_0x5b8eb3(0xda)][_0x5b8eb3(0xc8)]()),this[_0x5b8eb3(0xfc)]=this['_e']['copy'](),this[_0x5b8eb3(0xfc)]['normalize'](),this['_l']=this['_e'][_0x5b8eb3(0xc6)](),this[_0x5b8eb3(0xfb)]=this['_l'],this['_v']=0x0,this['_F']=createVector(0x0,0x0,0x0);}[_0x5d52d8(0xf7)](){var _0x34cef3=_0x5d52d8;return this[_0x34cef3(0xda)];}[_0x5d52d8(0xf6)](){var _0x15d091=_0x5d52d8;return this[_0x15d091(0xcf)];}[_0x5d52d8(0x100)](_0x33c268){var _0x5b7ebb=_0x5d52d8;this[_0x5b7ebb(0xfb)]=_0x33c268;}['update'](_0x4e959f){var _0x4a2bb6=_0x5d52d8;this['_e']=p5[_0x4a2bb6(0xe0)][_0x4a2bb6(0xc7)](this[_0x4a2bb6(0xcf)][_0x4a2bb6(0xc8)](),this[_0x4a2bb6(0xda)][_0x4a2bb6(0xc8)]()),this[_0x4a2bb6(0xfc)]=this['_e'][_0x4a2bb6(0xd5)](),this[_0x4a2bb6(0xfc)][_0x4a2bb6(0xf8)](),this['_l']=this['_e'][_0x4a2bb6(0xc6)](),this['_F']=createVector(),this['_v']+=(this['_l']-this[_0x4a2bb6(0xfb)])*_0x4e959f;var _0xe32bca=p5[_0x4a2bb6(0xe0)]['mult'](this[_0x4a2bb6(0xfc)],this['_Ke']*(this['_l']-this[_0x4a2bb6(0xfb)])),_0x16935b=this[_0x4a2bb6(0xda)]['_v']['dot'](this[_0x4a2bb6(0xfc)]),_0x2f3cc5=this[_0x4a2bb6(0xcf)]['_v']['dot'](this[_0x4a2bb6(0xfc)]),_0x581b94=p5[_0x4a2bb6(0xe0)][_0x4a2bb6(0xcb)](this[_0x4a2bb6(0xfc)],-this[_0x4a2bb6(0xca)]*(_0x16935b-_0x2f3cc5));this['_F']['add'](_0xe32bca),this['_F'][_0x4a2bb6(0xe5)](_0x581b94);}[_0x5d52d8(0xe7)](){var _0x22395b=_0x5d52d8;this[_0x22395b(0xda)]['addExternalForce'](this['_F']),this[_0x22395b(0xcf)][_0x22395b(0xce)](p5[_0x22395b(0xe0)]['mult'](this['_F'],-0x1));}}class DeformableSurface{constructor(_0x2b0bb5,_0x4f69e3,_0x2c060a,_0x288196,_0x2db80a,_0x4b449f,_0x5cfe1f){var _0x505eea=_0x5d52d8;this[_0x505eea(0xdd)]=_0x2b0bb5,this[_0x505eea(0xd6)]=_0x4f69e3,this[_0x505eea(0xe2)]=_0x5cfe1f,this[_0x505eea(0xdf)]=[],this[_0x505eea(0xd3)]=[],this[_0x505eea(0xed)](_0x2c060a,_0x288196),this[_0x505eea(0xfa)](_0x2db80a,_0x4b449f);}['createNodes'](_0x1093d7,_0xd5ae26){var _0x567cd3=_0x5d52d8,_0x56440e=this[_0x567cd3(0xdd)]/this[_0x567cd3(0xd6)];for(var _0x13e018=0x0;_0x13e018<this[_0x567cd3(0xd6)];_0x13e018++){var _0x365380=createVector(_0x1093d7['x']+_0x56440e*_0x13e018,_0x1093d7['y']+random(-ROPE_RANDOM,ROPE_RANDOM)),_0x2e991e=createVector(),_0x580369=_0x13e018==0x0,_0x566b00=new Particle(_0x365380,_0x2e991e,_0xd5ae26,_0x580369);this[_0x567cd3(0xdf)][_0x13e018]=_0x566b00;}}[_0x5d52d8(0xfa)](_0x406a80,_0x48450e){var _0x3d76f3=_0x5d52d8,_0x47a3f4;for(var _0x512792=0x0;_0x512792<this[_0x3d76f3(0xd6)];_0x512792++){_0x512792<this[_0x3d76f3(0xd6)]-0x1&&(_0x47a3f4=new DampedSpring(this['_nodes'][_0x512792],this[_0x3d76f3(0xdf)][_0x512792+0x1],_0x406a80,_0x48450e),this['_springsSurface'][_0x3d76f3(0xf0)](_0x47a3f4));}}[_0x5d52d8(0xf3)](_0x46b82d){var _0x21acaa=_0x5d52d8,_0x1af241;for(_0x1af241=0x0;_0x1af241<this[_0x21acaa(0xd6)];_0x1af241++)this[_0x21acaa(0xdf)][_0x1af241]!=null&&this[_0x21acaa(0xdf)][_0x1af241][_0x21acaa(0xf3)](_0x46b82d);for(var _0x1af241=0x0;_0x1af241<this[_0x21acaa(0xd3)][_0x21acaa(0xdc)];_0x1af241++){this[_0x21acaa(0xd3)][_0x1af241]['update'](_0x46b82d),this[_0x21acaa(0xd3)][_0x1af241][_0x21acaa(0xe7)]();}}[_0x5d52d8(0xe8)](){var _0x48c35a=_0x5d52d8;this[_0x48c35a(0xe3)]();}[_0x5d52d8(0xe3)](){var _0x482e6b=_0x5d52d8;stroke(this[_0x482e6b(0xe2)]);for(var _0x287305=0x0;_0x287305<this[_0x482e6b(0xd3)][_0x482e6b(0xdc)];_0x287305++){var _0x2af5e5=this[_0x482e6b(0xd3)][_0x287305][_0x482e6b(0xf7)]()[_0x482e6b(0xc8)](),_0x14cd86=this['_springsSurface'][_0x287305][_0x482e6b(0xf6)]()[_0x482e6b(0xc8)]();fill(BACKGROUND_COLOR),circle(_0x14cd86['x'],_0x14cd86['y'],PARTICLE_RADIUS),line(_0x2af5e5['x'],_0x2af5e5['y'],_0x14cd86['x'],_0x14cd86['y']);}}}class Hair{constructor(_0x3d6635,_0x3cac20,_0x45bf5e){var _0x1d1e3b=_0x5d52d8;this[_0x1d1e3b(0xf4)]=_0x3d6635,this['radius']=_0x45bf5e,this['_hair']=[],this[_0x1d1e3b(0xd8)](_0x3cac20);}[_0x5d52d8(0xd8)](_0x47251a){var _0x3bd65d=_0x5d52d8;for(var _0x2cce63=0x0;_0x2cce63<this[_0x3bd65d(0xf4)];_0x2cce63++){var _0x30053e=p5['Vector'][_0x3bd65d(0xe5)](_0x47251a,createVector(random(-this['radius'],this[_0x3bd65d(0xe9)]),random(-this[_0x3bd65d(0xe9)],this[_0x3bd65d(0xe9)]))),_0x53f2ba=new DeformableSurface(ROPE_LENGTH,ROPE_NUMBER_OF_NODES,_0x30053e,ROPE_NODE_MASS,ROPE_KE,ROPE_KD,ROPE_COLOR);this[_0x3bd65d(0xe4)]['push'](_0x53f2ba);}}['update'](_0x4d4131){var _0x454d63=_0x5d52d8;for(var _0x3caaf9=0x0;_0x3caaf9<this[_0x454d63(0xe4)][_0x454d63(0xdc)];_0x3caaf9++)this[_0x454d63(0xe4)][_0x3caaf9]['update'](_0x4d4131);}[_0x5d52d8(0xe8)](){var _0x4da344=_0x5d52d8;for(var _0x272291=0x0;_0x272291<this['_hair']['length'];_0x272291++)this[_0x4da344(0xe4)][_0x272291][_0x4da344(0xe8)]();}}class Particle{constructor(_0x26231a,_0x148dc2,_0x322fe3,_0x4c9a3c){var _0x1fce61=_0x5d52d8;this[_0x1fce61(0xeb)]=_lastParticleId++,this['_s']=_0x26231a[_0x1fce61(0xd5)](),this['_v']=_0x148dc2[_0x1fce61(0xd5)](),this['_m']=_0x322fe3,this[_0x1fce61(0xef)]=_0x4c9a3c,this['_a']=createVector(0x0,0x0,0x0),this['_F']=createVector(0x0,0x0,0x0);}[_0x5d52d8(0xf3)](_0x1e6880){var _0x5a3ac0=_0x5d52d8;if(this[_0x5a3ac0(0xef)])return;this[_0x5a3ac0(0xd9)](),this['_a']=p5[_0x5a3ac0(0xe0)]['div'](this['_F'],this['_m']),this['_v'][_0x5a3ac0(0xe5)](p5[_0x5a3ac0(0xe0)][_0x5a3ac0(0xcb)](this['_a'],_0x1e6880)),this['_s']['add'](p5['Vector'][_0x5a3ac0(0xcb)](this['_v'],_0x1e6880)),this['_F'][_0x5a3ac0(0xd7)](0x0,0x0,0x0);}[_0x5d52d8(0xf1)](){var _0x325e34=_0x5d52d8;return this[_0x325e34(0xeb)];}[_0x5d52d8(0xc8)](){return this['_s'];}[_0x5d52d8(0xdb)](_0x479afc){var _0xe5225b=_0x5d52d8;this['_s']=_0x479afc[_0xe5225b(0xd5)](),this['_a'][_0xe5225b(0xd7)](0x0,0x0,0x0),this['_F']['set'](0x0,0x0,0x0);}[_0x5d52d8(0xe6)](_0x445b93){var _0x4346df=_0x5d52d8;this['_v']=_0x445b93[_0x4346df(0xd5)]();}['updateForce'](){var _0x53870d=_0x5d52d8,_0x4fb1c1=p5['Vector'][_0x53870d(0xcb)](G,this['_m']);this['_F'][_0x53870d(0xe5)](_0x4fb1c1);var _0x5945c4=p5[_0x53870d(0xe0)][_0x53870d(0xcb)](this['_v'],-this['_v']['mag']()*FRICTION_CONSTANT);this['_F'][_0x53870d(0xe5)](_0x5945c4);}[_0x5d52d8(0xce)](_0x48b874){var _0x38fa07=_0x5d52d8;this['_F'][_0x38fa07(0xe5)](_0x48b874);}}function initializeFields(){REAL_TIME=!![],TIME_ACCEL=0x2,SIM_STEP=0.001,move=![],FULL_SCREEN=![],DRAW_FREQ=0x32,DISPLAY_SIZE_X,DISPLAY_SIZE_Y,BACKGROUND_COLOR=color(0xc8,0xc8,0xff),ROPE_COLOR=color(0x0,0x0,0x0),G=createVector(0x0,9.81),N_ROPES=0x2,HAIR_POS=createVector(DISPLAY_SIZE_X/0x2,DISPLAY_SIZE_Y*0.25),HAIR_RADIUS=0x3c,ROPE_RANDOM=0x2,FRICTION_CONSTANT=0.0002,ROPE_LENGTH=0x1f4,ROPE_NUMBER_OF_NODES=0xa,ROPE_NODE_MASS=0.1,ROPE_KE=0xa,ROPE_KD=0x5,PARTICLE_RADIUS=0x2,_lastTimeDraw=0x0,_deltaTimeDraw=0x0,_simTime=0x0,_elapsedTime=0x0;var _0x4c83b0=0x0;}function windowResized(){var _0x4d4c47=_0x5d52d8,_0xf31a5a=document[_0x4d4c47(0xea)](_0x4d4c47(0xd2));_0xf31a5a!=null&&(DISPLAY_SIZE_X=_0xf31a5a['offsetWidth'],HAIR_POS=createVector(DISPLAY_SIZE_X/0x2,DISPLAY_SIZE_Y*0.25),resizeCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y));}window[_0x5d52d8(0xfe)](_0x5d52d8(0xfd),windowResized(),![]);