var _0x30023d=_0xb0fd;(function(_0x4fd215,_0x372f83){var _0x1f8a20=_0xb0fd,_0x5ee9f7=_0x4fd215();while(!![]){try{var _0x2e447e=parseInt(_0x1f8a20(0x182))/0x1+parseInt(_0x1f8a20(0x171))/0x2*(parseInt(_0x1f8a20(0x18b))/0x3)+parseInt(_0x1f8a20(0x185))/0x4+parseInt(_0x1f8a20(0x189))/0x5+-parseInt(_0x1f8a20(0x172))/0x6*(parseInt(_0x1f8a20(0x18e))/0x7)+-parseInt(_0x1f8a20(0x183))/0x8+-parseInt(_0x1f8a20(0x174))/0x9*(parseInt(_0x1f8a20(0x17c))/0xa);if(_0x2e447e===_0x372f83)break;else _0x5ee9f7['push'](_0x5ee9f7['shift']());}catch(_0x17189a){_0x5ee9f7['push'](_0x5ee9f7['shift']());}}}(_0x5ad1,0x34abe));var NONE,EXPLICIT_EULER,SIMPLECTIC_EULER,HEUN,RK2,RK4,SIM_STEP,integrator,FULL_SCREEN,DRAW_FREQ,DISPLAY_SIZE_X,DISPLAY_SIZE_Y,BACKGROUND_COLOR,REFERENCE_COLOR,OBJECTS_COLOR,OBJECTS_SIZE,PIXELS_PER_METER,DISPLAY_CENTER,M,Gc,G,_s,_v,_a,_s2,_v2,_a2,S0,v0,Kr,Ks,C,l0,_simTime;function setup(){var _0x416484=_0xb0fd;initializeFields(),windowResized();var _0x3e2cde=createCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y);_0x3e2cde[_0x416484(0x176)](_0x416484(0x186)),frameRate(DRAW_FREQ),initSimulation();}function initSimulation(){var _0x48b407=_0xb0fd;_simTime=0x0,_s=S0[_0x48b407(0x177)](),_s2=_s['copy'](),_v[_0x48b407(0x190)](0x0,-0x5,0x0),_v2=_v[_0x48b407(0x177)](),_a['set'](0x0,0x0,0x0),_a2['set'](0x0,0x0,0x0),v0[_0x48b407(0x190)](_v),frameCount=0x0;}function updateSimulationExplicitEuler(){var _0x57902b=_0xb0fd;_a=calculateAcceleration(_s,_v),_s[_0x57902b(0x18d)](p5['Vector']['mult'](_v,SIM_STEP)),_v[_0x57902b(0x18d)](p5[_0x57902b(0x17a)][_0x57902b(0x18f)](_a,SIM_STEP));}function updateSimulationSimplecticEuler(){var _0x36ae0b=_0xb0fd;_a=calculateAcceleration(_s,_v),_v[_0x36ae0b(0x18d)](p5[_0x36ae0b(0x17a)][_0x36ae0b(0x18f)](_a,SIM_STEP)),_s[_0x36ae0b(0x18d)](p5[_0x36ae0b(0x17a)][_0x36ae0b(0x18f)](_v,SIM_STEP));}function updateSimulationHeun(){var _0x493e20=_0xb0fd;_a=calculateAcceleration(_s,_v),_s2['add'](p5['Vector']['mult'](_v,SIM_STEP)),_v2[_0x493e20(0x18d)](p5[_0x493e20(0x17a)][_0x493e20(0x18f)](_a,SIM_STEP));var _0x2d579b=p5[_0x493e20(0x17a)][_0x493e20(0x18a)](_v,_v2,0.5);_s['add'](p5['Vector']['mult'](_0x2d579b,SIM_STEP)),_a2=calculateAcceleration(_s,_v2);var _0x216fb6=p5['Vector']['lerp'](_a,_a2,0.5);_v[_0x493e20(0x18d)](p5[_0x493e20(0x17a)]['mult'](_0x216fb6,SIM_STEP));}function updateSimulationRK2(){var _0x1e1fd7=_0xb0fd,_0x46c41b=calculateAcceleration(_s,_v),_0x1f21ce=p5[_0x1e1fd7(0x17a)]['mult'](_0x46c41b,SIM_STEP),_0x238fa2=p5[_0x1e1fd7(0x17a)]['mult'](_v,SIM_STEP),_0x371145=calculateAcceleration(p5[_0x1e1fd7(0x17a)][_0x1e1fd7(0x18d)](_s,p5[_0x1e1fd7(0x17a)][_0x1e1fd7(0x181)](_0x238fa2,0x2)),p5[_0x1e1fd7(0x17a)][_0x1e1fd7(0x18d)](_v,p5[_0x1e1fd7(0x17a)]['div'](_0x1f21ce,0x2))),_0x3bfd04=p5[_0x1e1fd7(0x17a)][_0x1e1fd7(0x18f)](_0x371145,SIM_STEP),_0x4e000c=p5[_0x1e1fd7(0x17a)][_0x1e1fd7(0x18f)](p5['Vector'][_0x1e1fd7(0x18d)](_v,p5['Vector']['div'](_0x3bfd04,0x2)),SIM_STEP);_v[_0x1e1fd7(0x18d)](_0x3bfd04),_s[_0x1e1fd7(0x18d)](_0x4e000c);}function updateSimulationRK4(){var _0x5eb129=_0xb0fd,_0x3e785e=calculateAcceleration(_s,_v),_0x4ab41f=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x3e785e,SIM_STEP),_0x378536=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_v,SIM_STEP),_0x5d5e91=calculateAcceleration(p5[_0x5eb129(0x17a)]['add'](_s,p5['Vector']['div'](_0x378536,0x2)),p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,p5[_0x5eb129(0x17a)][_0x5eb129(0x181)](_0x4ab41f,0x2))),_0x481af6=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x5d5e91,SIM_STEP),_0x1a51d6=p5['Vector'][_0x5eb129(0x18f)](p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,p5[_0x5eb129(0x17a)]['div'](_0x481af6,0x2)),SIM_STEP),_0x250517=calculateAcceleration(p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_s,p5['Vector'][_0x5eb129(0x181)](_0x1a51d6,0x2)),p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,p5['Vector']['div'](_0x481af6,0x2))),_0x1a89e7=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x250517,SIM_STEP),_0x54c58b=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,p5[_0x5eb129(0x17a)]['div'](_0x1a89e7,0x2)),SIM_STEP),_0x56737c=calculateAcceleration(p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_s,_0x54c58b),p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,_0x1a89e7)),_0x148c6c=p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x56737c,SIM_STEP),_0x5d0bcc=p5['Vector']['mult'](p5[_0x5eb129(0x17a)][_0x5eb129(0x18d)](_v,_0x1a89e7),SIM_STEP);_v[_0x5eb129(0x18d)](p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x4ab41f,0x1/0x6)),_v['add'](p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x481af6,0x1/0x3)),_v[_0x5eb129(0x18d)](p5[_0x5eb129(0x17a)]['mult'](_0x1a89e7,0x1/0x3)),_v[_0x5eb129(0x18d)](p5['Vector'][_0x5eb129(0x18f)](_0x148c6c,0x1/0x6)),_s[_0x5eb129(0x18d)](p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x378536,0x1/0x6)),_s[_0x5eb129(0x18d)](p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x1a51d6,0x1/0x3)),_s['add'](p5[_0x5eb129(0x17a)][_0x5eb129(0x18f)](_0x54c58b,0x1/0x3)),_s[_0x5eb129(0x18d)](p5['Vector'][_0x5eb129(0x18f)](_0x5d0bcc,0x1/0x6));}function calculateAcceleration(_0x425040,_0x49c0a4){var _0x498d51=_0xb0fd,_0xe361e5=_0x49c0a4[_0x498d51(0x177)]()[_0x498d51(0x18c)](),_0x53d544=p5['Vector'][_0x498d51(0x18f)](_0xe361e5,-Kr*_0x49c0a4[_0x498d51(0x17b)]()),_0xa8f3fc=p5[_0x498d51(0x17a)][_0x498d51(0x18f)](G,M),_0x454e17=p5['Vector'][_0x498d51(0x173)](C,_0x425040),_0x5b480a=_0x454e17[_0x498d51(0x17b)]();_0x454e17[_0x498d51(0x18c)]();var _0xe8de11=p5[_0x498d51(0x17a)][_0x498d51(0x18f)](_0x454e17,Ks*(_0x5b480a-l0)),_0x495736=p5['Vector'][_0x498d51(0x18d)](_0xe8de11,_0x53d544);_0x495736[_0x498d51(0x18d)](_0xa8f3fc);var _0x3683a8=p5[_0x498d51(0x17a)][_0x498d51(0x181)](_0x495736,M);return _0x3683a8;}function draw(){background(BACKGROUND_COLOR[0x0],BACKGROUND_COLOR[0x1],BACKGROUND_COLOR[0x2]),updateSimulation(),drawScene();}function updateSimulation(){var _0x3fc132=_0xb0fd;switch(integrator){case _0x3fc132(0x17f):updateSimulationExplicitEuler();break;case _0x3fc132(0x175):updateSimulationSimplecticEuler();break;case _0x3fc132(0x184):updateSimulationHeun();break;case'RK2':updateSimulationRK2();break;case'RK4':updateSimulationRK4();break;case _0x3fc132(0x178):break;}}function drawScene(){var _0x235fc5=_0xb0fd;textSize(0xf),text(_0x235fc5(0x180)+integrator,width*0.01,height*0.025),text(_0x235fc5(0x187),width*0.01,height*0.05),fill(OBJECTS_COLOR[0x0],OBJECTS_COLOR[0x1],OBJECTS_COLOR[0x2]),strokeWeight(0x1);var _0x5533ca=createVector(),_0x2e2414=createVector();worldToScreen(_s,_0x5533ca),worldToScreen(createVector(),_0x2e2414),fill(0x64),circle(_0x2e2414['x'],_0x2e2414['y'],worldToPixels(OBJECTS_SIZE/0x2)),line(_0x5533ca['x'],_0x5533ca['y'],_0x2e2414['x'],_0x2e2414['y']),fill(0xff,0x0,0x0),circle(_0x5533ca['x'],_0x5533ca['y'],worldToPixels(OBJECTS_SIZE)),fill(0x0);}function worldToPixels(_0x57dbc9){return _0x57dbc9*PIXELS_PER_METER;}function pixelsToWorld(_0x3ed435){return _0x3ed435/PIXELS_PER_METER;}function worldToScreen(_0x14d298,_0x51fe9c){_0x51fe9c['x']=0.5*DISPLAY_SIZE_X+(_0x14d298['x']-DISPLAY_CENTER['x'])*PIXELS_PER_METER,_0x51fe9c['y']=0.5*DISPLAY_SIZE_Y-(_0x14d298['y']-DISPLAY_CENTER['y'])*PIXELS_PER_METER;}function screenToWorld(_0x27d576,_0x19b7ce){_0x19b7ce['x']=(_0x27d576['x']-0.5*DISPLAY_SIZE_X)/PIXELS_PER_METER+DISPLAY_CENTER['x'],_0x19b7ce['y']=(0.5*DISPLAY_SIZE_Y-_0x27d576['y'])/PIXELS_PER_METER+DISPLAY_CENTER['y'];}function keyPressed(){(key=='r'||key=='R')&&initSimulation();key=='+'&&(SIM_STEP*=1.1);key=='-'&&(SIM_STEP/=1.1);if(key=='e'||key=='E')integrator=EXPLICIT_EULER;if(key=='s'||key=='S')integrator=SIMPLECTIC_EULER;if(key=='h'||key=='H')integrator=HEUN;if(key=='2')integrator=RK2;if(key=='4')integrator=RK4;if(key=='n'||key=='N')integrator=NONE;}function mouseClicked(){var _0x3e33bd=createVector();screenToWorld(createVector(mouseX,mouseY),_0x3e33bd),_s=_0x3e33bd['copy']();}function initializeFields(){var _0x20f72a=_0xb0fd;NONE=_0x20f72a(0x178),EXPLICIT_EULER=_0x20f72a(0x17f),SIMPLECTIC_EULER=_0x20f72a(0x175),HEUN=_0x20f72a(0x184),RK2='RK2',RK4=_0x20f72a(0x188),SIM_STEP=0.01,integrator=RK4,FULL_SCREEN=![],DRAW_FREQ=0x32,DISPLAY_SIZE_X=0x320,DISPLAY_SIZE_Y=0x320,BACKGROUND_COLOR=[0xc8,0xc8,0xff],REFERENCE_COLOR=[0x0,0xff,0x0],OBJECTS_COLOR=[0xff,0x0,0x0],OBJECTS_SIZE=0x3,PIXELS_PER_METER=0x14,DISPLAY_CENTER=createVector(0x0,0x0),M=0.2,Gc=9.801,G=createVector(0x0,-Gc),_s=createVector(),_v=createVector(),_a=createVector(),_s2=createVector(),_v2=createVector(),_a2=createVector(),S0=createVector(0x0,0xa),v0=createVector(),Kr=0.1,Ks=0x3,C=createVector(),l0=0x5,_simTime=0.01;}function _0xb0fd(_0x9381dd,_0x59a8c1){var _0x5ad1f9=_0x5ad1();return _0xb0fd=function(_0xb0fd7e,_0x4de901){_0xb0fd7e=_0xb0fd7e-0x171;var _0x36b99c=_0x5ad1f9[_0xb0fd7e];return _0x36b99c;},_0xb0fd(_0x9381dd,_0x59a8c1);}function _0x5ad1(){var _0x76fad3=['Vector','mag','212170rbNSNN','resize','div-canvas','EXPLICIT_EULER','Integrator\x20=\x20','div','24123paOgrm','1803432QGsKjO','HEUN','558064PJoXEg','p5-canvas','Click\x20to\x20set\x20particle\x20position','RK4','662595VbvZRz','lerp','81pjOaAc','normalize','add','31367IOcMRr','mult','set','18024QDlbft','18ffkFFJ','sub','36RrBJlX','SIMPLECTIC_EULER','parent','copy','NONE','addEventListener'];_0x5ad1=function(){return _0x76fad3;};return _0x5ad1();}function windowResized(){var _0x17d01f=_0xb0fd,_0x30c97f=document['getElementById'](_0x17d01f(0x17e));_0x30c97f!=null&&(DISPLAY_SIZE_X=_0x30c97f['offsetWidth'],resizeCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y));}window[_0x30023d(0x179)](_0x30023d(0x17d),windowResized(),![]);