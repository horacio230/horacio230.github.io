var _0x495519=_0x16b4;(function(_0xcc684,_0x4e3b1b){var _0x17588e=_0x16b4,_0x66c418=_0xcc684();while(!![]){try{var _0x583c12=parseInt(_0x17588e(0x1ee))/0x1*(parseInt(_0x17588e(0x1e5))/0x2)+parseInt(_0x17588e(0x1da))/0x3*(parseInt(_0x17588e(0x1dc))/0x4)+-parseInt(_0x17588e(0x1e2))/0x5+-parseInt(_0x17588e(0x1f5))/0x6+-parseInt(_0x17588e(0x1ed))/0x7+-parseInt(_0x17588e(0x1d5))/0x8+parseInt(_0x17588e(0x1f0))/0x9;if(_0x583c12===_0x4e3b1b)break;else _0x66c418['push'](_0x66c418['shift']());}catch(_0x4013c9){_0x66c418['push'](_0x66c418['shift']());}}}(_0x292c,0x4be90));var DISPLAY_SIZE_X,DISPLAY_SIZE_Y,SIM_STEP,_windVelocity,WIND_CONSTANT,wind,smoke,M,R,TTL,PIXELS_PER_METER,img,ps;function setup(){initializeFields(),windowResized();var _0x3b131a=createCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y);_0x3b131a['parent']('p5-canvas'),ps=new ParticleSystem(createVector(pixelsToWorld(width/0x2),pixelsToWorld(height*0.7)));}function draw(){var _0x165779=_0x16b4;background(0x0);if(smoke)ps[_0x165779(0x1db)]();ps[_0x165779(0x1ef)](),drawInfo();if(wind)drawWind();}function worldToPixels(_0x14658c){return _0x14658c*PIXELS_PER_METER;}function pixelsToWorld(_0x3e42fc){return _0x3e42fc/PIXELS_PER_METER;}function drawInfo(){var _0x1a6d51=_0x16b4;fill(0xff,0x0,0x0),text('N.\x20particles\x20=\x20'+ps[_0x1a6d51(0x1f3)][_0x1a6d51(0x1f1)],width*0.025,height*0.025);var _0x40a162;if(wind)_0x40a162='ON';else _0x40a162=_0x1a6d51(0x1e9);text(_0x1a6d51(0x1df)+nf(_windVelocity['x'],0x0,0x2)+',\x20'+nf(_windVelocity['y'],0x0,0x2)+_0x1a6d51(0x1e3)+_0x40a162+')',width*0.025,height*0.05),text('(LEFT\x20-\x20RIGHT)\x20change\x20direction',width*0.025,height*0.075),text('(UP\x20-\x20DOWN)\x20change\x20module',width*0.025,height*0.1),text('(W)\x20ON/OFF',width*0.025,height*0.125);}function drawWind(){stroke(0xff,0x0,0x0),strokeWeight(0x3),fill(0xff,0x0,0x0),line(width*0.1,height*0.175,width*0.1+worldToPixels(_windVelocity['x']*WIND_CONSTANT),height*0.175+worldToPixels(_windVelocity['y']*WIND_CONSTANT)),circle(width*0.1+worldToPixels(_windVelocity['x']*WIND_CONSTANT),height*0.175+worldToPixels(_windVelocity['y']*WIND_CONSTANT),0x2);}function keyPressed(){var _0x12bee8=_0x16b4;if(keyCode==RIGHT_ARROW)_windVelocity[_0x12bee8(0x1e6)](PI/0x10);if(keyCode==LEFT_ARROW)_windVelocity['rotate'](-PI/0x10);if(keyCode==UP_ARROW)_windVelocity[_0x12bee8(0x1e4)](1.1);if(keyCode==DOWN_ARROW)_windVelocity['mult'](0.9);if(key=='W'||key=='w')wind=!wind;if(key=='S'||key=='s')smoke=!smoke;}class Particle{constructor(_0x8123cc,_0x5c1e0b,_0x403a53,_0x2c5814,_0x4a6802,_0x50e93c){var _0x563c62=_0x16b4;this['_s']=_0x8123cc[_0x563c62(0x1eb)](),this['_v']=_0x5c1e0b['copy'](),this['_a']=createVector(),this['_F']=createVector(),this['_m']=_0x403a53,this[_0x563c62(0x1de)]=_0x2c5814,this[_0x563c62(0x1d8)]=_0x4a6802,this['_color']=_0x50e93c;}['run'](){var _0x3ff432=_0x16b4;this['update'](),this[_0x3ff432(0x1e7)]();}[_0x495519(0x1ea)](){var _0x5cb7ab=_0x495519;!this[_0x5cb7ab(0x1f7)]()&&(this[_0x5cb7ab(0x1f2)](),this['_a']=p5['Vector']['div'](this['_F'],this['_m']),this['_v'][_0x5cb7ab(0x1d7)](p5[_0x5cb7ab(0x1f6)][_0x5cb7ab(0x1e4)](this['_a'],SIM_STEP)),this['_s']['add'](p5[_0x5cb7ab(0x1f6)][_0x5cb7ab(0x1e4)](this['_v'],SIM_STEP)),this['_ttl']--,this[_0x5cb7ab(0x1de)]*=0.98);}[_0x495519(0x1f2)](){var _0x47bd92=_0x495519;this['_F']=createVector();if(wind){var _0xa54ced=_windVelocity[_0x47bd92(0x1eb)]()[_0x47bd92(0x1dd)](),_0x1ec68b=this['_v'][_0x47bd92(0x1eb)]()[_0x47bd92(0x1dd)](),_0x1f786b=_0x1ec68b[_0x47bd92(0x1e8)](_0xa54ced)*-0x1,_0x39c2d9=_0x1f786b*this['_v'][_0x47bd92(0x1e0)]()+_windVelocity['mag']();if(_0x39c2d9<0x0)_0x39c2d9=0x0;_0xa54ced[_0x47bd92(0x1e4)](WIND_CONSTANT*_0x39c2d9),this['_F'][_0x47bd92(0x1d7)](_0xa54ced);}}['display'](){var _0x1ec25a=_0x495519;noStroke(),this[_0x1ec25a(0x1e1)][_0x1ec25a(0x1f4)](this[_0x1ec25a(0x1d8)]/TTL*0xff),fill(this[_0x1ec25a(0x1e1)]),circle(worldToPixels(this['_s']['x']),worldToPixels(this['_s']['y']),worldToPixels(this['_radius']));}['isDead'](){var _0x1b7961=_0x495519,_0x4b1ffd=![];return this[_0x1b7961(0x1d8)]<0x0&&(_0x4b1ffd=!![]),_0x4b1ffd;}}class ParticleSystem{constructor(_0x5ae957){var _0x15406c=_0x495519;this[_0x15406c(0x1ec)]=_0x5ae957[_0x15406c(0x1eb)](),this[_0x15406c(0x1f3)]=[];}[_0x495519(0x1db)](){var _0xcf4702=_0x495519,_0x23ce67=createVector(random(-0xf,0xf),random(-0x46,-0x32)),_0x2b0f8e=new Particle(this[_0xcf4702(0x1ec)],_0x23ce67,M,R,TTL,color(0xc8));this[_0xcf4702(0x1f3)]['push'](_0x2b0f8e);}[_0x495519(0x1ef)](){var _0x276051=_0x495519;for(var _0x4c8320=this[_0x276051(0x1f3)]['length']-0x1;_0x4c8320>=0x0;_0x4c8320--){var _0x389e34=this['_particles'][_0x4c8320];_0x389e34[_0x276051(0x1ef)](),_0x389e34[_0x276051(0x1f7)]()&&this[_0x276051(0x1f3)]['splice'](_0x4c8320,0x1);}}}function initializeFields(){SIM_STEP=0.01,_windVelocity=createVector(0x32,0x0),WIND_CONSTANT=0.1,wind=!![],smoke=!![],M=0.1,R=0x8,TTL=0x3c,PIXELS_PER_METER=0xa,img=null,ps=null,DISPLAY_SIZE_X=0x320,DISPLAY_SIZE_Y=0x320;}function windowResized(){var _0x10bc53=_0x495519,_0x42e9aa=document['getElementById'](_0x10bc53(0x1d6));_0x42e9aa!=null&&(DISPLAY_SIZE_X=_0x42e9aa['offsetWidth'],resizeCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y));}window['addEventListener'](_0x495519(0x1d9),windowResized(),![]);function _0x16b4(_0x4233bf,_0x4123b6){var _0x292ca5=_0x292c();return _0x16b4=function(_0x16b4a5,_0x29ceec){_0x16b4a5=_0x16b4a5-0x1d5;var _0x39d01b=_0x292ca5[_0x16b4a5];return _0x39d01b;},_0x16b4(_0x4233bf,_0x4123b6);}function _0x292c(){var _0x1d32de=['Wind\x20=\x20[','mag','_color','18845KmELKo',']\x20\x20(','mult','4tcKiPF','rotate','display','dot','OFF','update','copy','_position','1360086gCfcuO','53131izxQqH','run','7033815Xabcqb','length','updateForce','_particles','setAlpha','2592828TXOUlO','Vector','isDead','3877064mvdmwi','div-canvas','add','_ttl','resize','3wPXjCf','addParticle','2151876zpCnlc','normalize','_radius'];_0x292c=function(){return _0x1d32de;};return _0x292c();}