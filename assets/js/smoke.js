var _0x19b4bf=_0x1d17;(function(_0x32fde4,_0x2b1059){var _0x5b139b=_0x1d17,_0x245a7a=_0x32fde4();while(!![]){try{var _0x1d587d=-parseInt(_0x5b139b(0x1e0))/0x1*(parseInt(_0x5b139b(0x1d5))/0x2)+parseInt(_0x5b139b(0x1cb))/0x3*(-parseInt(_0x5b139b(0x1d1))/0x4)+-parseInt(_0x5b139b(0x1cf))/0x5+parseInt(_0x5b139b(0x1cc))/0x6*(parseInt(_0x5b139b(0x1cd))/0x7)+parseInt(_0x5b139b(0x1d3))/0x8*(-parseInt(_0x5b139b(0x1d4))/0x9)+parseInt(_0x5b139b(0x1c2))/0xa+-parseInt(_0x5b139b(0x1d0))/0xb*(-parseInt(_0x5b139b(0x1df))/0xc);if(_0x1d587d===_0x2b1059)break;else _0x245a7a['push'](_0x245a7a['shift']());}catch(_0x287bad){_0x245a7a['push'](_0x245a7a['shift']());}}}(_0x4398,0xf0ac9));function _0x4398(){var _0xef9950=['length','_radius','13900640TyTONe','_position','(W)\x20ON/OFF','resize','p5-canvas','offsetWidth','run','mult','normalize','3EhmMKq','786tzUVAQ','70609cvsCkW','OFF','5610265DzocUx','1023vlKLrQ','6847060JIsvHR','updateForce','416LJZkIU','84843ooowKi','2515894fInnPc','getElementById','div-canvas','Wind\x20=\x20[','display','_ttl','add','mag','_particles','rotate','368556xFpCAk','1YPooCd','_color','copy','isDead','update','Vector',']\x20\x20('];_0x4398=function(){return _0xef9950;};return _0x4398();}var DISPLAY_SIZE_X,DISPLAY_SIZE_Y,SIM_STEP,_windVelocity,WIND_CONSTANT,wind,smoke,M,R,TTL,PIXELS_PER_METER,img,ps;function setup(){var _0x15ce80=_0x1d17;initializeFields(),windowResized();var _0x49eea6=createCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y);_0x49eea6['parent'](_0x15ce80(0x1c6)),ps=new ParticleSystem(createVector(pixelsToWorld(width/0x2),pixelsToWorld(height*0.7)));}function draw(){var _0x48d166=_0x1d17;background(0x0);if(smoke)ps['addParticle']();ps[_0x48d166(0x1c8)](),drawInfo();if(wind)drawWind();}function _0x1d17(_0x3b4ad9,_0x140426){var _0x4398c3=_0x4398();return _0x1d17=function(_0x1d1733,_0x338a22){_0x1d1733=_0x1d1733-0x1c2;var _0xb6238b=_0x4398c3[_0x1d1733];return _0xb6238b;},_0x1d17(_0x3b4ad9,_0x140426);}function worldToPixels(_0x58c0d8){return _0x58c0d8*PIXELS_PER_METER;}function pixelsToWorld(_0x184aed){return _0x184aed/PIXELS_PER_METER;}function drawInfo(){var _0x44eb7d=_0x1d17;fill(0xff,0x0,0x0),text('N.\x20particles\x20=\x20'+ps[_0x44eb7d(0x1dd)]['length'],width*0.025,height*0.025);var _0x4afcd3;if(wind)_0x4afcd3='ON';else _0x4afcd3=_0x44eb7d(0x1ce);text(_0x44eb7d(0x1d8)+nf(_windVelocity['x'],0x0,0x2)+',\x20'+nf(_windVelocity['y'],0x0,0x2)+_0x44eb7d(0x1e6)+_0x4afcd3+')',width*0.025,height*0.05),text('(LEFT\x20-\x20RIGHT)\x20change\x20direction',width*0.025,height*0.075),text('(UP\x20-\x20DOWN)\x20change\x20module',width*0.025,height*0.1),text(_0x44eb7d(0x1c4),width*0.025,height*0.125);}function drawWind(){stroke(0xff,0x0,0x0),strokeWeight(0x3),fill(0xff,0x0,0x0),line(width*0.1,height*0.175,width*0.1+worldToPixels(_windVelocity['x']*WIND_CONSTANT),height*0.175+worldToPixels(_windVelocity['y']*WIND_CONSTANT)),circle(width*0.1+worldToPixels(_windVelocity['x']*WIND_CONSTANT),height*0.175+worldToPixels(_windVelocity['y']*WIND_CONSTANT),0x2);}function keyPressed(){var _0x5ef454=_0x1d17;if(keyCode==RIGHT_ARROW)_windVelocity['rotate'](PI/0x10);if(keyCode==LEFT_ARROW)_windVelocity[_0x5ef454(0x1de)](-PI/0x10);if(keyCode==UP_ARROW)_windVelocity[_0x5ef454(0x1c9)](1.1);if(keyCode==DOWN_ARROW)_windVelocity[_0x5ef454(0x1c9)](0.9);if(key=='W'||key=='w')wind=!wind;if(key=='S'||key=='s')smoke=!smoke;}class Particle{constructor(_0x3328a7,_0x127ab2,_0x31d9bb,_0x2b0533,_0x30d5e5,_0xc3b57c){var _0x1b57e6=_0x1d17;this['_s']=_0x3328a7[_0x1b57e6(0x1e2)](),this['_v']=_0x127ab2[_0x1b57e6(0x1e2)](),this['_a']=createVector(),this['_F']=createVector(),this['_m']=_0x31d9bb,this['_radius']=_0x2b0533,this[_0x1b57e6(0x1da)]=_0x30d5e5,this[_0x1b57e6(0x1e1)]=_0xc3b57c;}[_0x19b4bf(0x1c8)](){var _0x3ee568=_0x19b4bf;this[_0x3ee568(0x1e4)](),this[_0x3ee568(0x1d9)]();}[_0x19b4bf(0x1e4)](){var _0x55b1c6=_0x19b4bf;!this[_0x55b1c6(0x1e3)]()&&(this[_0x55b1c6(0x1d2)](),this['_a']=p5[_0x55b1c6(0x1e5)]['div'](this['_F'],this['_m']),this['_v'][_0x55b1c6(0x1db)](p5[_0x55b1c6(0x1e5)][_0x55b1c6(0x1c9)](this['_a'],SIM_STEP)),this['_s']['add'](p5[_0x55b1c6(0x1e5)]['mult'](this['_v'],SIM_STEP)),this['_ttl']--,this[_0x55b1c6(0x1e8)]*=0.98);}[_0x19b4bf(0x1d2)](){var _0x3d78cc=_0x19b4bf;this['_F']=createVector();if(wind){var _0x4c4d59=_windVelocity[_0x3d78cc(0x1e2)]()[_0x3d78cc(0x1ca)](),_0x516083=this['_v']['copy']()[_0x3d78cc(0x1ca)](),_0x1a7ecc=_0x516083['dot'](_0x4c4d59)*-0x1,_0x2a14ac=_0x1a7ecc*this['_v'][_0x3d78cc(0x1dc)]()+_windVelocity[_0x3d78cc(0x1dc)]();if(_0x2a14ac<0x0)_0x2a14ac=0x0;_0x4c4d59[_0x3d78cc(0x1c9)](WIND_CONSTANT*_0x2a14ac),this['_F'][_0x3d78cc(0x1db)](_0x4c4d59);}}['display'](){var _0x294515=_0x19b4bf;noStroke(),this['_color']['setAlpha'](this[_0x294515(0x1da)]/TTL*0xff),fill(this['_color']),circle(worldToPixels(this['_s']['x']),worldToPixels(this['_s']['y']),worldToPixels(this[_0x294515(0x1e8)]));}['isDead'](){var _0x509949=_0x19b4bf,_0x1a65df=![];return this[_0x509949(0x1da)]<0x0&&(_0x1a65df=!![]),_0x1a65df;}}class ParticleSystem{constructor(_0x49cf75){var _0x223ed5=_0x19b4bf;this[_0x223ed5(0x1c3)]=_0x49cf75[_0x223ed5(0x1e2)](),this[_0x223ed5(0x1dd)]=[];}['addParticle'](){var _0x1ffcf9=_0x19b4bf,_0x4eb398=createVector(random(-0xf,0xf),random(-0x46,-0x32)),_0x317ef1=new Particle(this['_position'],_0x4eb398,M,R,TTL,color(0xc8));this[_0x1ffcf9(0x1dd)]['push'](_0x317ef1);}[_0x19b4bf(0x1c8)](){var _0x3920a5=_0x19b4bf;for(var _0x3e86e0=this[_0x3920a5(0x1dd)][_0x3920a5(0x1e7)]-0x1;_0x3e86e0>=0x0;_0x3e86e0--){var _0x318fd8=this[_0x3920a5(0x1dd)][_0x3e86e0];_0x318fd8['run'](),_0x318fd8[_0x3920a5(0x1e3)]()&&this[_0x3920a5(0x1dd)]['splice'](_0x3e86e0,0x1);}}}function initializeFields(){SIM_STEP=0.01,_windVelocity=createVector(0x32,0x0),WIND_CONSTANT=0.1,wind=!![],smoke=!![],M=0.1,R=0x5,TTL=0x32,PIXELS_PER_METER=0xa,img=null,ps=null,DISPLAY_SIZE_X=0x320,DISPLAY_SIZE_Y=0x320;}function windowResized(){var _0x4640b3=_0x19b4bf,_0x533de2=document[_0x4640b3(0x1d6)](_0x4640b3(0x1d7));_0x533de2!=null&&(DISPLAY_SIZE_X=_0x533de2[_0x4640b3(0x1c7)],resizeCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y));}window['addEventListener'](_0x19b4bf(0x1c5),windowResized(),![]);