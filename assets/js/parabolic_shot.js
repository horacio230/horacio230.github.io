var _0x2baf87=_0xc16a;(function(_0x7224bb,_0x27beb4){var _0x2953d8=_0xc16a,_0xd6f1a7=_0x7224bb();while(!![]){try{var _0x39ee3e=parseInt(_0x2953d8(0x10f))/0x1+-parseInt(_0x2953d8(0x109))/0x2+parseInt(_0x2953d8(0x123))/0x3+-parseInt(_0x2953d8(0x120))/0x4*(-parseInt(_0x2953d8(0x118))/0x5)+-parseInt(_0x2953d8(0x10e))/0x6+parseInt(_0x2953d8(0x11d))/0x7*(-parseInt(_0x2953d8(0x107))/0x8)+-parseInt(_0x2953d8(0x10b))/0x9*(-parseInt(_0x2953d8(0x10c))/0xa);if(_0x39ee3e===_0x27beb4)break;else _0xd6f1a7['push'](_0xd6f1a7['shift']());}catch(_0xb4e634){_0xd6f1a7['push'](_0xd6f1a7['shift']());}}}(_0x518b,0xc0a43));var NONE,EXPLICIT_EULER,SIMPLECTIC_EULER,HEUN,RK2,RK4,REAL_TIME,SIM_STEP,_integrator,FULL_SCREEN,DRAW_FREQ,DISPLAY_SIZE_X=0x320,DISPLAY_SIZE_Y=0x320,analytic,gamemode,BACKGROUND_COLOR,REFERENCE_COLOR,OBJECTS_COLOR,OBJECTS_SIZE,PIXELS_PER_METER,DISPLAY_CENTER,M,Gc,G,h,S0,Ka,Kw,ang,v0,_V0,D,boatW,boatH,hit,canon,_lastTimeDraw,_deltaTimeDraw,_simTime,_elapsedTime,_output,FILE_NAME,createoutput,_energy,_s,_v,_a,_s2,_v2,_a2,_s_a,_v_a,_a_a;function worldToPixels(_0x106fb4){return _0x106fb4*PIXELS_PER_METER;}function pixelsToWorld(_0x534f39){return _0x534f39/PIXELS_PER_METER;}function worldToScreen(_0xf16a89,_0x50301f){_0x50301f['x']=0.5*DISPLAY_SIZE_X+(_0xf16a89['x']-DISPLAY_CENTER['x'])*PIXELS_PER_METER,_0x50301f['y']=0.5*DISPLAY_SIZE_Y-(_0xf16a89['y']-DISPLAY_CENTER['y'])*PIXELS_PER_METER;}function screenToWorld(_0x14a80e,_0x54504a){_0x54504a['x']=(_0x14a80e['x']-0.5*DISPLAY_SIZE_X)/PIXELS_PER_METER+DISPLAY_CENTER['x'],_0x54504a['y']=(0.5*DISPLAY_SIZE_Y-_0x14a80e['y'])/PIXELS_PER_METER+DISPLAY_CENTER['y'];}function drawStaticEnvironment(){var _0x866599=_0xc16a;background(BACKGROUND_COLOR[0x0],BACKGROUND_COLOR[0x1],BACKGROUND_COLOR[0x2]),textSize(0x14),textAlign(LEFT),text('Sim.\x20Time\x20'+_simTime,width*0.025,height*0.05),text(_0x866599(0x11a)+SIM_STEP+_0x866599(0x104)+REAL_TIME+')',width*0.025,height*0.075),text(_0x866599(0x117)+_integrator,width*0.025,height*0.1),text(_0x866599(0x126)+_energy+'\x20J',width*0.025,height*0.125),text(_0x866599(0x125)+D+')',width*0.025,height*0.15),text(_0x866599(0x106)+analytic,width*0.025,height*0.175),text(_0x866599(0x11b)+gamemode,width*0.025,height*0.2);_s['y']<0x0&&(textSize(0xc8),textAlign(CENTER),hit?text(_0x866599(0x130),width/0x2,height/0x2):text(_0x866599(0x10d),width/0x2,height/0x2),textSize(0x14),text('(R)\x20Restart',width/0x2,height/0x2+0x46));fill(REFERENCE_COLOR[0x0],REFERENCE_COLOR[0x1],REFERENCE_COLOR[0x2]),strokeWeight(0x1);var _0x35dc2d=createVector();worldToScreen(createVector(),_0x35dc2d),line(_0x35dc2d['x'],_0x35dc2d['y'],_0x35dc2d['x']+DISPLAY_SIZE_X,_0x35dc2d['y']),line(_0x35dc2d['x'],_0x35dc2d['y']-worldToPixels(h),_0x35dc2d['x']-DISPLAY_SIZE_X,_0x35dc2d['y']-worldToPixels(h)),line(_0x35dc2d['x'],_0x35dc2d['y']-worldToPixels(h),_0x35dc2d['x'],_0x35dc2d['y']),rectMode(CORNER),fill(0x61,0x34,0x0),rect(_0x35dc2d['x']-DISPLAY_SIZE_X,_0x35dc2d['y']-worldToPixels(h),DISPLAY_SIZE_X,worldToPixels(h)),fill(0x2e,0x89,0xff),rect(_0x35dc2d['x']-DISPLAY_SIZE_X,_0x35dc2d['y'],DISPLAY_SIZE_X*0x2,DISPLAY_SIZE_Y),rectMode(CENTER),strokeWeight(0x3),fill(0xff,0xaa,0x0),rect(_0x35dc2d['x']+worldToPixels(D),_0x35dc2d['y'],worldToPixels(boatW),worldToPixels(boatH)),line(_0x35dc2d['x']+worldToPixels(D),_0x35dc2d['y']-0xf,_0x35dc2d['x']+worldToPixels(D),_0x35dc2d['y']-0x96),fill(0xff),triangle(_0x35dc2d['x']+worldToPixels(D),_0x35dc2d['y']-0x96,_0x35dc2d['x']+worldToPixels(D)+0x3c,_0x35dc2d['y']-0x6e,_0x35dc2d['x']+worldToPixels(D),_0x35dc2d['y']-0x46);if(!gamemode)canon=_V0[_0x866599(0x11c)]();canon[_0x866599(0x105)]()[_0x866599(0x108)](0x32),strokeWeight(0xf),fill(0x0),circle(_0x35dc2d['x'],_0x35dc2d['y']-worldToPixels(h),0x14),line(_0x35dc2d['x'],_0x35dc2d['y']-worldToPixels(h),_0x35dc2d['x']+canon['x'],_0x35dc2d['y']-worldToPixels(h)-canon['y']);}function drawMovingElements(){fill(OBJECTS_COLOR[0x0],OBJECTS_COLOR[0x1],OBJECTS_COLOR[0x2]),strokeWeight(0x1);var _0x5b33a7=createVector();worldToScreen(_s,_0x5b33a7),circle(_0x5b33a7['x'],_0x5b33a7['y'],worldToPixels(OBJECTS_SIZE)),analytic&&(fill(0x64),worldToScreen(_s_a,_0x5b33a7),circle(_0x5b33a7['x'],_0x5b33a7['y'],worldToPixels(OBJECTS_SIZE)),fill(OBJECTS_COLOR[0x0],OBJECTS_COLOR[0x1],OBJECTS_COLOR[0x2]));}function PrintInfo(){var _0x42e295=_0xc16a;print('Energy:\x20'+_energy+'\x20J'),print('Elapsed\x20time\x20=\x20'+_elapsedTime+'\x20s'),print(_0x42e295(0x119)+_simTime+_0x42e295(0x115));}function initSimulation(){var _0x332cca=_0xc16a;_simTime=0x0,_elapsedTime=0x0;if(!gamemode)_v=_V0[_0x332cca(0x11c)]();_s=S0[_0x332cca(0x11c)](),_a=createVector(),_s2=createVector(),_v2=_v[_0x332cca(0x11c)](),_a2=createVector(),hit=![];}function updateSimulation(){var _0x114a54=_0xc16a;switch(_integrator){case _0x114a54(0x12a):updateSimulationExplicitEuler();break;case _0x114a54(0x111):updateSimulationSimplecticEuler();break;case'HEUN':updateSimulationHeun();break;case _0x114a54(0x102):updateSimulationRK2();break;case _0x114a54(0x122):updateSimulationRK4();break;}if(_s['x']+OBJECTS_SIZE/0x2>D-boatW/0x2&&_s['x']-OBJECTS_SIZE/0x2<D+boatW/0x2&&_s['y']-OBJECTS_SIZE/0x2<=boatH/0x2&&_s['y']+OBJECTS_SIZE/0x2>-boatH/0x2)hit=!![];var _0x25fc34=M*Gc/Ka;_s_a['x']=_V0['x']*_0x25fc34/Gc*(0x1-exp(-Gc*_simTime/_0x25fc34)),_s_a['y']=_0x25fc34/Gc*(_V0['y']+_0x25fc34)*(0x1-exp(-Gc*_simTime/_0x25fc34))-_0x25fc34*_simTime+h,_simTime+=SIM_STEP;}function updateSimulationExplicitEuler(){var _0x2edb5c=_0xc16a;_a=calculateAcceleration(_s,_v),_s[_0x2edb5c(0x12c)](p5['Vector'][_0x2edb5c(0x108)](_v,SIM_STEP)),_v['add'](p5['Vector']['mult'](_a,SIM_STEP));}function updateSimulationSimplecticEuler(){var _0x16e3d0=_0xc16a;_a=calculateAcceleration(_s,_v),_v['add'](p5[_0x16e3d0(0x116)][_0x16e3d0(0x108)](_a,SIM_STEP)),_s[_0x16e3d0(0x12c)](p5[_0x16e3d0(0x116)][_0x16e3d0(0x108)](_v,SIM_STEP));}function _0xc16a(_0x1ffa14,_0x31e014){var _0x518bc4=_0x518b();return _0xc16a=function(_0xc16a4d,_0x355ed5){_0xc16a4d=_0xc16a4d-0x102;var _0xe38eb9=_0x518bc4[_0xc16a4d];return _0xe38eb9;},_0xc16a(_0x1ffa14,_0x31e014);}function updateSimulationHeun(){var _0x324507=_0xc16a;_a=calculateAcceleration(_s,_v),_s2['add'](p5[_0x324507(0x116)][_0x324507(0x108)](_v,SIM_STEP)),_v2['add'](p5[_0x324507(0x116)][_0x324507(0x108)](_a,SIM_STEP));var _0x287327=p5[_0x324507(0x116)][_0x324507(0x128)](_v,_v2,0.5);_s[_0x324507(0x12c)](p5[_0x324507(0x116)][_0x324507(0x108)](_0x287327,SIM_STEP)),_a2=calculateAcceleration(_s,_v2);var _0x5aa3fb=p5[_0x324507(0x116)][_0x324507(0x128)](_a,_a2,0.5);_v[_0x324507(0x12c)](p5['Vector'][_0x324507(0x108)](_0x5aa3fb,SIM_STEP));}function updateSimulationRK2(){var _0x472055=_0xc16a,_0x140b5e=calculateAcceleration(_s,_v),_0x368f5b=p5['Vector'][_0x472055(0x108)](_0x140b5e,SIM_STEP),_0x227ee7=p5[_0x472055(0x116)]['mult'](_v,SIM_STEP),_0x3c1491=calculateAcceleration(p5['Vector'][_0x472055(0x12c)](_s,p5[_0x472055(0x116)][_0x472055(0x131)](_0x227ee7,0x2)),p5[_0x472055(0x116)]['add'](_v,p5[_0x472055(0x116)][_0x472055(0x131)](_0x368f5b,0x2))),_0x2f7225=p5['Vector']['mult'](_0x3c1491,SIM_STEP),_0x47c601=p5[_0x472055(0x116)]['mult'](p5[_0x472055(0x116)]['add'](_v,p5[_0x472055(0x116)]['div'](_0x2f7225,0x2)),SIM_STEP);_v['add'](_0x2f7225),_s[_0x472055(0x12c)](_0x47c601);}function updateSimulationRK4(){var _0x34526c=_0xc16a,_0x273f38=calculateAcceleration(_s,_v),_0x4e67fc=p5['Vector']['mult'](_0x273f38,SIM_STEP),_0xa8b4dd=p5['Vector'][_0x34526c(0x108)](_v,SIM_STEP),_0x3ce675=calculateAcceleration(p5[_0x34526c(0x116)][_0x34526c(0x12c)](_s,p5[_0x34526c(0x116)]['div'](_0xa8b4dd,0x2)),p5['Vector']['add'](_v,p5['Vector'][_0x34526c(0x131)](_0x4e67fc,0x2))),_0x45615f=p5[_0x34526c(0x116)][_0x34526c(0x108)](_0x3ce675,SIM_STEP),_0x411f1d=p5['Vector'][_0x34526c(0x108)](p5['Vector'][_0x34526c(0x12c)](_v,p5[_0x34526c(0x116)][_0x34526c(0x131)](_0x45615f,0x2)),SIM_STEP),_0x414700=calculateAcceleration(p5['Vector'][_0x34526c(0x12c)](_s,p5[_0x34526c(0x116)]['div'](_0x411f1d,0x2)),p5[_0x34526c(0x116)][_0x34526c(0x12c)](_v,p5[_0x34526c(0x116)]['div'](_0x45615f,0x2))),_0x1c6f07=p5[_0x34526c(0x116)][_0x34526c(0x108)](_0x414700,SIM_STEP),_0x2713e0=p5[_0x34526c(0x116)]['mult'](p5[_0x34526c(0x116)][_0x34526c(0x12c)](_v,p5[_0x34526c(0x116)][_0x34526c(0x131)](_0x1c6f07,0x2)),SIM_STEP),_0x42da65=calculateAcceleration(p5[_0x34526c(0x116)][_0x34526c(0x12c)](_s,_0x2713e0),p5[_0x34526c(0x116)][_0x34526c(0x12c)](_v,_0x1c6f07)),_0x258b2d=p5[_0x34526c(0x116)]['mult'](_0x42da65,SIM_STEP),_0x32ee93=p5[_0x34526c(0x116)][_0x34526c(0x108)](p5[_0x34526c(0x116)]['add'](_v,_0x1c6f07),SIM_STEP);_v[_0x34526c(0x12c)](p5['Vector']['mult'](_0x4e67fc,0x1/0x6)),_v[_0x34526c(0x12c)](p5[_0x34526c(0x116)][_0x34526c(0x108)](_0x45615f,0x1/0x3)),_v[_0x34526c(0x12c)](p5['Vector']['mult'](_0x1c6f07,0x1/0x3)),_v[_0x34526c(0x12c)](p5['Vector'][_0x34526c(0x108)](_0x258b2d,0x1/0x6)),_s[_0x34526c(0x12c)](p5[_0x34526c(0x116)][_0x34526c(0x108)](_0xa8b4dd,0x1/0x6)),_s[_0x34526c(0x12c)](p5[_0x34526c(0x116)][_0x34526c(0x108)](_0x411f1d,0x1/0x3)),_s[_0x34526c(0x12c)](p5[_0x34526c(0x116)]['mult'](_0x2713e0,0x1/0x3)),_s[_0x34526c(0x12c)](p5[_0x34526c(0x116)][_0x34526c(0x108)](_0x32ee93,0x1/0x6));}function calculateAcceleration(_0x500b95,_0x34af5){var _0x58709a=_0xc16a,_0x3cff75=p5[_0x58709a(0x116)][_0x58709a(0x108)](G,M),_0x148d28;if(_0x500b95['y']>=0x0)_0x148d28=p5[_0x58709a(0x116)][_0x58709a(0x108)](_0x34af5,-Ka);else _0x148d28=p5[_0x58709a(0x116)][_0x58709a(0x108)](_0x34af5,-Kw);var _0x455eb7=p5[_0x58709a(0x116)][_0x58709a(0x12c)](_0x3cff75,_0x148d28),_0x19ed38=p5[_0x58709a(0x116)]['div'](_0x455eb7,M);return _0x19ed38;}function calculateEnergy(){var _0x5bad2b=_0xc16a,_0xe7494a=0.5*M*pow(_v[_0x5bad2b(0x11f)](),0x2),_0x4f6b8e=M*Gc*_s['y'];_energy=abs(_0xe7494a+_0x4f6b8e);}function setup(){var _0x5b1600=_0xc16a;initializeFields(),windowResized();var _0x2c61f0=createCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y);_0x2c61f0[_0x5b1600(0x127)](_0x5b1600(0x11e)),frameRate(DRAW_FREQ),_lastTimeDraw=millis(),initSimulation();}function draw(){var _0x56a946=millis();_deltaTimeDraw=(_0x56a946-_lastTimeDraw)/0x3e8,_elapsedTime+=_deltaTimeDraw,_lastTimeDraw=_0x56a946;gamemode&&(screenToWorld(createVector(mouseX,mouseY),canon),canon['y']-=h,print(canon));if(REAL_TIME){var _0xf2edcc=0x1*_deltaTimeDraw,_0x1267d4=_0xf2edcc/SIM_STEP,_0x403f4a=0x0;for(;_0x403f4a<floor(_0x1267d4);_0x403f4a++)updateSimulation();_0x1267d4-_0x403f4a>random(0x0,0x1)&&(updateSimulation(),_0x403f4a++);}else updateSimulation();drawStaticEnvironment(),drawMovingElements(),calculateEnergy();if(createoutput)printOutput();}function mouseClicked(){var _0x3dcb4a=_0xc16a;gamemode&&(_v=canon['normalize']()[_0x3dcb4a(0x108)](v0)[_0x3dcb4a(0x11c)](),initSimulation());}function keyPressed(){if(key=='r'||key=='R')initSimulation();if(key=='+')SIM_STEP*=1.1;if(key=='-')SIM_STEP/=1.1;if(key=='e'||key=='E')_integrator=EXPLICIT_EULER;if(key=='s'||key=='S')_integrator=SIMPLECTIC_EULER;if(key=='h'||key=='H')_integrator=HEUN;if(key=='2')_integrator=RK2;if(key=='4')_integrator=RK4;if(key=='n'||key=='N')_integrator=NONE;if(key=='a'||key=='A')analytic=!analytic;if(key=='g'||key=='G')gamemode=!gamemode;if(keyCode==RIGHT_ARROW)D+=0x1;if(keyCode==LEFT_ARROW)D-=0x1;}function printOutput(){var _0x133889=_0xc16a;if(_s['y']>=0x0)_output[_0x133889(0x103)](_s['x']+','+_s['y']+','+_s_a['x']+','+_s_a['y']+','+_v['x']+','+_v['y']+','+_energy);else stopOutput();}function startOutput(){var _0x29c713=_0xc16a;createoutput=!![];var _0x1fa4f9=_integrator+'-'+SIM_STEP+_0x29c713(0x113);_output=createWriter(_0x1fa4f9),_output[_0x29c713(0x103)](_0x29c713(0x12d)),initSimulation();}function stopOutput(){var _0x587e7d=_0xc16a;createoutput=![],_output[_0x587e7d(0x121)](),_output[_0x587e7d(0x114)]();}function _0x518b(){var _0x3fcd66=['resize','EXPLICIT_EULER','HEUN','add','POSX,POSY,SAX,SAY,VELX,VELY,ENERGY','getElementById','addEventListener','HIT!','div','RK2','print','\x20(Real\x20Time\x20=\x20','normalize','(A)\x20Show\x20analytic\x20solution\x20=\x20','1112OLJEJl','mult','917652KGSqnp','NONE','18927HSELvK','1580aubsaD','MISS','7040766OSkqVk','76956oPIHUu','data.txt','SIMPLECTIC_EULER','div-canvas','.txt','close','\x20s\x20\x0a','Vector','Integrator\x20=\x20','140iYaeDF','Simulated\x20time\x20=\x20','Sim.\x20Step\x20=\x20','(G)\x20Game\x20mode\x20(click\x20to\x20shoot)\x20=\x20','copy','25011lqJFmU','p5-canvas','mag','175948mULVjs','flush','RK4','3831381dVsyMS','offsetWidth','Press\x20arrow\x20keys\x20to\x20move\x20boat\x20(D\x20=\x20','Energy\x20=\x20','parent','lerp'];_0x518b=function(){return _0x3fcd66;};return _0x518b();}function initializeFields(){var _0x459a53=_0xc16a;NONE=_0x459a53(0x10a),EXPLICIT_EULER=_0x459a53(0x12a),SIMPLECTIC_EULER=_0x459a53(0x111),HEUN=_0x459a53(0x12b),RK2=_0x459a53(0x102),RK4=_0x459a53(0x122),REAL_TIME=!![],SIM_STEP=0.001,_integrator=RK4,FULL_SCREEN=![],DRAW_FREQ=0x32,analytic=![],gamemode=![],BACKGROUND_COLOR=[0xc8,0xc8,0xff],REFERENCE_COLOR=[0x0,0xff,0x0],OBJECTS_COLOR=[0xff,0x0,0x0],OBJECTS_SIZE=0x1,PIXELS_PER_METER=0x14,DISPLAY_CENTER=createVector(0xf,0xf),M=0x1,Gc=9.801,G=createVector(0x0,-Gc),h=0x14,S0=createVector(0x0,h),Ka=0.02,Kw=0x5,ang=PI/0x3,v0=0xf,_V0=createVector(v0*cos(ang),v0*sin(ang)),D=0x19,boatW=0x5,boatH=1.5,hit=![],canon=createVector(),_lastTimeDraw=0x0,_deltaTimeDraw=0x0,_simTime=0x0,_elapsedTime=0x0,_output=null,FILE_NAME=_0x459a53(0x110),createoutput=![],_energy=0x0,_s=createVector(),_v=createVector(),_a=createVector(),_s2=createVector(),_v2=createVector(),_a2=createVector(),_s_a=createVector(),_v_a=createVector(),_a_a=createVector();}function windowResized(){var _0x4b92d4=_0xc16a,_0x571f6e=document[_0x4b92d4(0x12e)](_0x4b92d4(0x112));_0x571f6e!=null&&(DISPLAY_SIZE_X=_0x571f6e[_0x4b92d4(0x124)],PIXELS_PER_METER=DISPLAY_SIZE_X/DISPLAY_SIZE_Y*0x14,resizeCanvas(DISPLAY_SIZE_X,DISPLAY_SIZE_Y));}window[_0x2baf87(0x12f)](_0x2baf87(0x129),windowResized(),![]);